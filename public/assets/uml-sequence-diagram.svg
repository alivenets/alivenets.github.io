<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="384px" preserveAspectRatio="none" style="width:596px;height:384px;" version="1.1" viewBox="0 0 596 384" width="596px" zoomAndPan="magnify"><defs><filter height="300%" id="f12699f686p21v" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12699f686p21v)" height="248.9421" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="125.5" y="74.7739"/><rect fill="#FFFFFF" filter="url(#f12699f686p21v)" height="203.2361" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="223.5" y="88.7739"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="30" x2="30" y1="41.0679" y2="341.716"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="130.5" x2="130.5" y1="41.0679" y2="341.716"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="228" x2="228" y1="41.0679" y2="341.716"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="432" x2="432" y1="41.0679" y2="341.716"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="552.5" x2="552.5" y1="41.0679" y2="341.716"/><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="15" y="24.9659">App</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="8" y="340.716"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="15" y="362.682">App</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="104.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="111.5" y="24.9659">Glibc</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="104.5" y="340.716"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="111.5" y="362.682">Glibc</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="206" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="213" y="24.9659">NSS</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="206" y="340.716"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="213" y="362.682">NSS</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="398" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="405" y="24.9659">passwd</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="398" y="340.716"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="405" y="362.682">passwd</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="515.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="522.5" y="24.9659">systemd</text><rect fill="#FEFECE" filter="url(#f12699f686p21v)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="515.5" y="340.716"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="522.5" y="362.682">systemd</text><rect fill="#FFFFFF" filter="url(#f12699f686p21v)" height="248.9421" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="125.5" y="74.7739"/><rect fill="#FFFFFF" filter="url(#f12699f686p21v)" height="203.2361" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="223.5" y="88.7739"/><polygon fill="#A80036" points="113.5,70.7739,123.5,74.7739,113.5,78.7739,117.5,74.7739" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="30.5" x2="119.5" y1="74.7739" y2="74.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="37.5" y="68.9649">getpwnam_r</text><polygon fill="#A80036" points="211.5,84.7739,221.5,88.7739,211.5,92.7739,215.5,88.7739" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="135.5" x2="217.5" y1="88.7739" y2="88.7739"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="275.5" y1="120.4799" y2="120.4799"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="275.5" x2="275.5" y1="120.4799" y2="133.4799"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="234.5" x2="275.5" y1="133.4799" y2="133.4799"/><polygon fill="#A80036" points="244.5,129.4799,234.5,133.4799,244.5,137.4799,240.5,133.4799" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="240.5" y="114.6709">Iterate over plugins</text><polygon fill="#A80036" points="420.5,161.186,430.5,165.186,420.5,169.186,424.5,165.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="426.5" y1="165.186" y2="165.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="240.5" y="159.377">Request info from passwd file</text><polygon fill="#A80036" points="244.5,192.892,234.5,196.892,244.5,200.892,240.5,196.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238.5" x2="431.5" y1="196.892" y2="196.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="250.5" y="191.083">pwd struct</text><polygon fill="#A80036" points="540.5,224.598,550.5,228.598,540.5,232.598,544.5,228.598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="546.5" y1="228.598" y2="228.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="240.5" y="222.789">Send request to external SystemD UserDB service</text><polygon fill="#A80036" points="244.5,256.304,234.5,260.304,244.5,264.304,240.5,260.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238.5" x2="551.5" y1="260.304" y2="260.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="250.5" y="254.495">pwd struct</text><polygon fill="#A80036" points="146.5,288.01,136.5,292.01,146.5,296.01,142.5,292.01" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="140.5" x2="227.5" y1="292.01" y2="292.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="152.5" y="286.201">pwd struct</text><polygon fill="#A80036" points="41.5,319.716,31.5,323.716,41.5,327.716,37.5,323.716" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="35.5" x2="129.5" y1="323.716" y2="323.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="47.5" y="317.907">pwd struct</text><!--
@startuml

App -> Glibc : getpwnam_r
activate Glibc
Glibc -> NSS
activate NSS
NSS -> NSS : Iterate over plugins
NSS -> passwd : Request info from passwd file
passwd -> NSS : pwd struct
NSS -> systemd : Send request to external SystemD UserDB service
systemd -> NSS : pwd struct
return pwd struct
return pwd struct

@enduml

PlantUML version 1.2018.13(Mon Nov 26 18:11:51 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Ubuntu-0ubuntu120.04
Operating System: Linux
OS Version: 5.4.0-42-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>